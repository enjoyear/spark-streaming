apiVersion: v1
kind: Pod # a one-time, ad-hoc naked pod launched manually and NOT managed by a controller.
          # Most specs of the `POD` kind is immutable once the pod is created. Delete & recreate for updates.
metadata:
  name: custom-artifacts-pod
spec:
  restartPolicy: Never
  containers:
    - name: sh
      image: busybox:1.36
      command: ["sh","-c","sleep 86400000"]  # gives you 1000 days to upload the jars
                                         # kubectl cp word-count/build/libs/word-count.jar custom-artifacts-pod:/custom-artifacts/word-count.jar
                                         # kubectl cp python/dist/my_lib-0.1.0-py3-none-any.whl custom-artifacts-pod:/custom-artifacts/my_lib-0.1.0-py3-none-any.whl
                                         # kubectl cp word-count-sc/dist/wordcount_sc-0.1.0-py3-none-any.whl custom-artifacts-pod:/custom-artifacts/wordcount_sc-0.1.0-py3-none-any.whl
                                         # kubectl cp word-count-sc/src/python/pyspark_driver/driver.py custom-artifacts-pod:/custom-artifacts/driver.py
                                         # docker exec -it prod-test-worker2 ls -al /tmp/custom-jars2
                                         # MAKE SURE to deploy this pod to the same worker as the driver
      volumeMounts:
        - name: custom-artifacts
          mountPath: /custom-artifacts
  volumes:
    - name: custom-artifacts
      persistentVolumeClaim:
        claimName: custom-jars-pvc2
